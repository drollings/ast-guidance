{
  "meta": {
    "module": "src.context",
    "source": "src/context.zig",
    "language": "zig"
  },
  "comment": "Manages Zig build context, resolves dependencies, logs progress, and handles errors during compilation.",
  "used_by": ["src/main.zig", "src/repl.zig"],
  "members": [
    {
      "type": "struct",
      "name": "BuildResult",
      "match_hash": "294b5ff34ac1a631a126e0f6d85eac722d0d94dd915a62a2b67af358544842c8",
      "signature": "keyword_struct BuildResult { ... }",
      "comment": "Represents build outcome with ownership and invariants; managed via deinit; not thread-safe.",
      "is_pub": true,
      "members": [
        {
          "type": "fn_decl",
          "name": "deinit",
          "match_hash": "6aefb924630bd248b5681c34026f7f549197d4bb2a8f7ea55c829ff4fd8f8042",
          "signature": "fn deinit(self: *BuildResult, allocator: std.mem.Allocator) -> void",
          "params": [
            { "name": "self", "type": "*BuildResult" },
            { "name": "allocator", "type": "std.mem.Allocator" }
          ],
          "returns": "void",
          "is_pub": true,
          "line": 21
        }
      ],
      "line": 14
    },
    {
      "type": "fn_decl",
      "name": "init",
      "match_hash": "97f020e34e93f12558d7fdf419f321ea50b1b4e0f4fa81e8aab2b8a8360ab6d7",
      "signature": "fn init(allocator: std.mem.Allocator, registry: *TargetRegistry, interner: *StringInterner) -> BuildContext",
      "params": [
        { "name": "allocator", "type": "std.mem.Allocator" },
        { "name": "registry", "type": "*TargetRegistry" },
        { "name": "interner", "type": "*StringInterner" }
      ],
      "returns": "BuildContext",
      "comment": "Initializes the build context using an allocator and registry.",
      "is_pub": true,
      "line": 39
    },
    {
      "type": "fn_decl",
      "name": "build",
      "match_hash": "fbd69103c5534484f0c6369a6c56e33ce1e44d37c2dd693870432e8564e7e3b9",
      "signature": "fn build(self: *BuildContext, target_names: []const []const u8) -> BuildResult",
      "params": [
        { "name": "self", "type": "*BuildContext" },
        { "name": "target_names", "type": "[]const []const u8" }
      ],
      "returns": "BuildResult",
      "comment": "Constructs a BuildResult by parsing a C string into a Zig slice with target names.",
      "is_pub": true,
      "line": 52
    },
    {
      "type": "fn_private",
      "name": "isUpToDate",
      "match_hash": "d5507bc1923434ef25aa2570f72077d74fae0643c33601a1b1990e08470f1beb",
      "signature": "fn isUpToDate(self: *BuildContext, target: *const Target) -> bool",
      "params": [
        { "name": "self", "type": "*BuildContext" },
        { "name": "target", "type": "*const Target" }
      ],
      "returns": "bool",
      "comment": "Checks if a BuildContext's target string is up-to-date by comparing it to a known version.",
      "is_pub": false,
      "line": 151
    },
    {
      "type": "fn_private",
      "name": "executeTarget",
      "match_hash": "0d284bb3fcbdf62fe381f0b174dbb268bd109e7ba736b9f9cfa2747a7a4607d5",
      "signature": "fn executeTarget(self: *BuildContext, target: *const Target) -> bool",
      "params": [
        { "name": "self", "type": "*BuildContext" },
        { "name": "target", "type": "*const Target" }
      ],
      "returns": "bool",
      "comment": "Checks if a target is reachable and returns a boolean indicating success.",
      "is_pub": false,
      "line": 176
    },
    {
      "type": "fn_decl",
      "name": "listTargets",
      "match_hash": "06fd4eefaf7add25e83b8e7b12de86a5a753ba93c8b2e689a7d8254b58d93ccd",
      "signature": "fn listTargets(self: *const BuildContext, writer: *std.Io.Writer) -> void",
      "params": [
        { "name": "self", "type": "*const BuildContext" },
        { "name": "writer", "type": "*std.Io.Writer" }
      ],
      "returns": "void",
      "comment": "Retrieves target list from a build context, returning a slice of target identifiers.",
      "is_pub": true,
      "line": 222
    },
    {
      "type": "fn_decl",
      "name": "showGraph",
      "match_hash": "09fc317b670c96c04bb1110fe6cfc93232b04010e4fa7686e29f3287ed39dec3",
      "signature": "fn showGraph(self: *BuildContext, target_names: []const []const u8, writer: *std.Io.Writer) -> void",
      "params": [
        { "name": "self", "type": "*BuildContext" },
        { "name": "target_names", "type": "[]const []const u8" },
        { "name": "writer", "type": "*std.Io.Writer" }
      ],
      "returns": "void",
      "comment": "Displays a graph using provided context and writer, returning void.",
      "is_pub": true,
      "line": 261
    },
    {
      "type": "test_decl",
      "name": "BuildContext: empty target list with no default returns success",
      "is_pub": false,
      "line": 274
    },
    {
      "type": "test_decl",
      "name": "BuildContext: empty target list dispatches to default target",
      "is_pub": false,
      "line": 289
    },
    {
      "type": "test_decl",
      "name": "BuildContext: dry_run counts targets without executing",
      "is_pub": false,
      "line": 313
    },
    {
      "type": "test_decl",
      "name": "BuildContext: abstract target is skipped (no commands, no exists)",
      "is_pub": false,
      "line": 336
    },
    {
      "type": "test_decl",
      "name": "BuildContext: successful command target is counted",
      "is_pub": false,
      "line": 357
    },
    {
      "type": "test_decl",
      "name": "BuildContext: dry_run non-essential failing command is counted without executing",
      "is_pub": false,
      "line": 377
    },
    {
      "type": "test_decl",
      "name": "BuildContext: essential target â€” dry_run does not fail",
      "is_pub": false,
      "line": 401
    },
    {
      "type": "test_decl",
      "name": "BuildContext: phony target with no commands succeeds and counts as built",
      "is_pub": false,
      "line": 430
    },
    {
      "type": "test_decl",
      "name": "BuildContext: circular dependency is detected and build returns not-success",
      "is_pub": false,
      "line": 449
    },
    {
      "type": "test_decl",
      "name": "BuildContext: duration_ns is non-zero after a build",
      "is_pub": false,
      "line": 474
    },
    {
      "type": "test_decl",
      "name": "BuildContext: GPA no leaks across a multi-target build",
      "is_pub": false,
      "line": 491
    }
  ]
}
